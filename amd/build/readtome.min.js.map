{"version":3,"sources":["../src/readtome.js"],"names":["define","$","M","init","window","speechSynthesis","hover","addClass","cancel","speakText","text","speakTimer","setTimeout","msg","SpeechSynthesisUtterance","rate","lang","speak","removeClass","clearTimeout","get_string","insertBefore"],"mappings":"AAAAA,OAAM,oCAAC,CAAC,QAAD,CAAW,UAAX,CAAD,CAAyB,SAASC,CAAT,CAAYC,CAAZ,CAAe,CAmC1C,MAlCe,CACXC,IAAI,CAAE,eAAW,CACb,GAAsC,WAAlC,QAAOC,CAAAA,MAAM,CAACC,eAAlB,CAAmD,CAC/CJ,CAAC,CAAC,uCAAD,CAAD,CAA2CK,KAA3C,CACI,UAAW,CACPL,CAAC,CAAC,IAAD,CAAD,CAAQM,QAAR,CAAiB,mBAAjB,EACAH,MAAM,CAACC,eAAP,CAAuBG,MAAvB,GAFO,GAGHC,CAAAA,CAAS,CAAGR,CAAC,CAAC,IAAD,CAAD,CAAQS,IAAR,EAHT,CAIHC,CAAU,CAAGC,UAAU,CAAC,UAAW,CACnC,GAAIC,CAAAA,CAAG,CAAG,GAAIC,CAAAA,wBAAJ,CAA6BL,CAA7B,CAAV,CACAI,CAAG,CAACE,IAAJ,CAAW,EAAX,CACAF,CAAG,CAACG,IAAJ,CAAW,OAAX,CACAf,CAAC,CAAC,IAAD,CAAD,CAAQM,QAAR,CAAiB,4BAAjB,EACAH,MAAM,CAACC,eAAP,CAAuBY,KAAvB,CAA6BJ,CAA7B,EACAT,MAAM,CAACC,eAAP,CAAuBY,KAAvB,CAA6B,YAA7B,EACAhB,CAAC,CAAC,IAAD,CAAD,CAAQiB,WAAR,CAAoB,mBAApB,CACH,CAR0B,CAQxB,IARwB,CAJpB,CAaP,GAA0B,WAAtB,QAAOP,CAAAA,CAAX,CAAuC,CACnCQ,YAAY,CAACR,CAAD,CACf,CACJ,CAjBL,CAkBI,UAAW,CACPP,MAAM,CAACC,eAAP,CAAuBG,MAAvB,GACAP,CAAC,CAAC,IAAD,CAAD,CAAQiB,WAAR,CAAoB,mBAApB,EACAjB,CAAC,CAAC,IAAD,CAAD,CAAQiB,WAAR,CAAoB,4BAApB,CACH,CAtBL,CAwBH,CAzBD,IAyBO,CACHjB,CAAC,CAAC,qCAAqCC,CAAC,CAACkB,UAAF,CAAa,eAAb,CAA8B,yBAA9B,CAArC,CACF,QADC,CAAD,CACUC,YADV,CACuB,eADvB,CAEH,CACJ,CA/BU,CAmClB,CApCK,CAAN","sourcesContent":["define(['jquery', 'core/str'], function($, M) {\n    var readtome = {\n        init: function() {\n            if (typeof window.speechSynthesis !== 'undefined') {\n                $('p, h1, h2, h3, h4, h5, span, a, label').hover(\n                    function() {\n                        $(this).addClass('currentlySpeaking');\n                        window.speechSynthesis.cancel();\n                        var speakText = $(this).text();\n                        var speakTimer = setTimeout(function() {\n                            var msg = new SpeechSynthesisUtterance(speakText);\n                            msg.rate = 0.8;\n                            msg.lang = 'en-GB';\n                            $(this).addClass('currentlySpeakingHighlight');\n                            window.speechSynthesis.speak(msg);\n                            window.speechSynthesis.speak(\"What's up?\");\n                            $(this).removeClass('currentlySpeaking');\n                        }, 1500);\n                        if (typeof speakTimer !== 'undefined') {\n                            clearTimeout(speakTimer);\n                        }\n                    },\n                    function() {\n                        window.speechSynthesis.cancel();\n                        $(this).removeClass('currentlySpeaking');\n                        $(this).removeClass('currentlySpeakingHighlight');\n                    }\n                );\n            } else {\n                $('<div class=\"alert alert-danger\">' + M.get_string(\"readtomealert\", \"local_accessibilitytool\") +\n                '</div>').insertBefore(\"#page-content\");\n            }\n        }\n    };\n\n    return readtome;\n});\n"],"file":"readtome.min.js"}